#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

spring:
  ai:
    mcp:
      server:
        name: pulsar-admin-mcp-server
        version: 1.0.0
        type: ASYNC
        instructions: "Apache pulsar Admin Mcp Server providing comprehensive pulsar cluster management operations through natural language interface"

        # Transport configuration
        sse-message-endpoint: "/mcp/message"
        sse-endpoint: "/sse"

        # Capabilities
        capabilities:
          resource: true
          tool: true
          prompt: true
          completion: true

        # Change notifications
        resource-change-notification: true
        prompt-change-notification: true
        tool-change-notification: true

server:
  port: 8889

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when-authorized

# Pulsar connection configuration
pulsar:
  admin:
    url: "http://localhost:8080"
  service:
    url: "pulsar://localhost:6650"

# Mcp feature flags
mcp:
  features:
    pulsar-admin-tenants: true
    pulsar-admin-functions: true
    pulsar-admin-sources: true
    pulsar-admin-sinks: true
    pulsar-admin-schemas: true
    pulsar-admin-packages: true
    pulsar-admin-subscriptions: true

    pulsar-client: true

    functions-as-tools: false
    context-management: false
    parameter-validation: true
    error-handling: true

# Logging configuration
logging:
  level:
    root: OFF
    org.apache.pulsar.admin.mcp: OFF
    org.springframework: OFF
    org.apache.pulsar: OFF
  pattern:
    console: ""

# Security profiles
---
spring:
  config:
    activate:
      on-profile: write

mcp:
  security:
    read-only: false
    allowed-operations:
      - CREATE
      - UPDATE
      - DELETE

---
spring:
  config:
    activate:
      on-profile: read-only

mcp:
  security:
    read-only: true
    allowed-operations:
      - LIST
      - GET
      - STATS
